// @ts-nocheck
import{initializeApp}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";import{getDatabase,ref,push,onChildAdded}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";const firebaseConfig={apiKey:"AIzaSyB0Hk3yp2RgHd4skWhbQV_oqZxcVA0UuSk",authDomain:"yusuf-chat-bd02f.firebaseapp.com",databaseURL:"https://yusuf-chat-bd02f-default-rtdb.firebaseio.com",projectId:"yusuf-chat-bd02f",storageBucket:"yusuf-chat-bd02f.appspot.com",messagingSenderId:"136858198911",appId:"1:136858198911:web:d24831e6f5108fbb8fb04a",measurementId:"G-YJ8WXDW96G"},app=initializeApp(firebaseConfig),db=getDatabase(app);let nick=localStorage.getItem("nick");function saveNick(){nick=document.getElementById("nick-input").value.trim(),nick&&(localStorage.setItem("nick",nick),document.getElementById("nick-screen").style.display="none",document.getElementById("chat-screen").style.display="block")}function sendMessage(){const e=document.getElementById("message-input").value.trim();if(e){const s=ref(db,"messages");push(s,{nick:nick,text:e,isAdmin:"Yusuf"===nick}),document.getElementById("message-input").value=""}}window.saveNick=saveNick,window.sendMessage=sendMessage;const messagesRef=ref(db,"messages");function checkPassword(){"wafeo"===document.getElementById("pww").value?(document.getElementById("login-screen").style.display="none",nick?document.getElementById("chat-screen").style.display="block":document.getElementById("nick-screen").style.display="block"):alert("Yanlış şifre")}onChildAdded(messagesRef,(e=>{const s=e.val(),t=document.getElementById("messages"),n=document.createElement("div");n.textContent=(s.isAdmin?"[ADMIN] ":"")+s.nick+": "+s.text,t.appendChild(n),t.scrollTop=t.scrollHeight})),window.checkPassword=checkPassword,window.onload=()=>{document.getElementById("login-screen").style.display="block",document.getElementById("nick-screen").style.display="none",document.getElementById("chat-screen").style.display="none"},window.checkPassword=checkPassword,window.saveNick=saveNick,window.sendMessage=sendMessage;